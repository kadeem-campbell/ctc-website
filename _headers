/*
  # Security
  Strict-Transport-Security: max-age=63072000; includeSubDomains; preload
  X-Content-Type-Options: nosniff
  X-Frame-Options: DENY
  Referrer-Policy: strict-origin-when-cross-origin
  Permissions-Policy: geolocation=(), microphone=(), camera=(), payment=(), usb=(), interest-cohort=()
  Cross-Origin-Opener-Policy: same-origin
  Cross-Origin-Resource-Policy: same-site
  Cross-Origin-Embedder-Policy: unsafe-none

  # Baseline CSP (keeps site working without HTML changes)
  Content-Security-Policy: default-src 'self'; base-uri 'self'; form-action 'self'; frame-ancestors 'none'; object-src 'none'; img-src 'self' data: https:; media-src 'self' https:; font-src 'self' data: https:; style-src 'self' 'unsafe-inline' https:; script-src 'self' 'unsafe-inline' https:; connect-src 'self' https:; upgrade-insecure-requests

  # Privacy
  X-Permitted-Cross-Domain-Policies: none
  X-DNS-Prefetch-Control: on

# HTML: always revalidate (fast rollbacks, correct previews)
/*.html
  Cache-Control: public, max-age=0, must-revalidate

# Pretty URL folders
/about/*
  Cache-Control: public, max-age=0, must-revalidate

/events/*
  Cache-Control: public, max-age=0, must-revalidate

/team/*
  Cache-Control: public, max-age=0, must-revalidate

# Service worker & manifests should update quickly
/sw.js
  Cache-Control: public, max-age=0, must-revalidate

/manifest.webmanifest
  Cache-Control: public, max-age=0, must-revalidate
  Content-Type: application/manifest+json; charset=UTF-8

# SEO + discovery (small files, safe to cache lightly)
/robots.txt
  Cache-Control: public, max-age=3600
  Content-Type: text/plain; charset=UTF-8

/sitemap.xml
  Cache-Control: public, max-age=3600
  Content-Type: application/xml; charset=UTF-8

/llms.txt
  Cache-Control: public, max-age=3600
  Content-Type: text/plain; charset=UTF-8

/humans.txt
  Cache-Control: public, max-age=3600
  Content-Type: text/plain; charset=UTF-8

/security.txt
  Cache-Control: public, max-age=3600
  Content-Type: text/plain; charset=UTF-8

/.well-known/security.txt
  Cache-Control: public, max-age=3600
  Content-Type: text/plain; charset=UTF-8

/schema.json
  Cache-Control: public, max-age=3600
  Content-Type: application/ld+json; charset=UTF-8

/feed.xml
  Cache-Control: public, max-age=3600
  Content-Type: application/atom+xml; charset=UTF-8

/feed.json
  Cache-Control: public, max-age=3600
  Content-Type: application/feed+json; charset=UTF-8

# Keep internal documents crawlable but not indexed (prevents PDF decks ranking)
/Documents/*
  X-Robots-Tag: noindex, nofollow
  Cache-Control: public, max-age=3600

# Offline fallback page should never appear in search results
/offline.html
  X-Robots-Tag: noindex, nofollow
  Cache-Control: public, max-age=0, must-revalidate

# Static assets: long cache
/img/*
  Cache-Control: public, max-age=31536000, immutable

/cards/*
  Cache-Control: public, max-age=31536000, immutable

/vids/*
  Cache-Control: public, max-age=31536000, immutable

/icons/*
  Cache-Control: public, max-age=31536000, immutable

/socials/*
  Cache-Control: public, max-age=31536000, immutable

/*.css
  Cache-Control: public, max-age=31536000, immutable

/*.js
  Cache-Control: public, max-age=31536000, immutable
